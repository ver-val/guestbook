<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}"></head>
<body>
<div class="wrapper">
    <div th:replace="~{fragments/header :: topbar}"></div>

    <header class="page-header">
        <h1 th:text="#{title.books}">Книги</h1>
        <a class="button primary" th:href="@{/books/new}" th:text="#{label.addBook}">Додати книгу</a>
    </header>

<div th:if="${bookCreated}" class="flash success" th:text="#{msg.bookCreated}">Книгу додано.</div>

<form class="search" th:action="@{/books}" method="get">
    <input type="text" name="q" th:placeholder="#{placeholder.search}" th:value="${q}" placeholder="Пошук за назвою або автором">
    <button type="submit" th:text="#{action.search}">Пошук</button>
</form>

<div class="empty" th:if="${#lists.isEmpty(books)}" th:text="#{label.noBooks}">
    Ще немає книг.
</div>

<table class="data-table" th:unless="${#lists.isEmpty(books)}">
    <thead>
    <tr>
        <th th:text="#{label.title}">Назва</th>
        <th th:text="#{label.author}">Автор</th>
        <th th:text="#{label.year}">Рік</th>
        <th th:text="#{label.description}">Опис</th>
        <th th:text="#{label.actions}">Дії</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="book : ${books}">
        <td th:text="${book.title}">Title</td>
        <td th:text="${book.author}">Author</td>
        <td th:text="${book.pubYear}">2024</td>
        <td th:text="${book.description}">Description</td>
        <td class="actions">
            <a class="button primary" th:href="@{|/books/${book.id}|}" th:text="#{action.view}">Переглянути</a>
            <form class="inline-form" th:action="@{|/books/${book.id}/delete|}" method="post">
                <button type="submit" class="button danger-outline" th:text="#{action.delete}">Видалити</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
</div>
</body>
</html>
